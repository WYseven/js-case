<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title></title>
		<style>
			body,ul,li{
				padding:0px;
				margin: 0px;
			}
			li {
				list-style: none;
			}
			#listBox {
				padding: 30px;
			}
			#list ul {
				border-bottom: 1px solid #333;
			}
			#list li {
				padding: 5px 0px;	
			}
			#list span{
				margin: 20px;
			}
			#list li.blue {
				background: blue;
			}
			#list li.gray {
				background: #333;
			}
		</style>
		<script>
			window.onload = function (){
				
				//给表格加上隔行变色的效果

				var oUl = document.getElementById('list');
				var aLi = oUl.getElementsByTagName('li');
				var oInput = oUl.getElementsByTagName('input');

				var allCheced = document.getElementById("allCheced");

				for ( var i=0; i<aLi.length; i++) {
					aLi[i].index = i;
					//给每一个li加上背景颜色
					//判断当前这一行是不是奇数行
					if (i%2 == 0) {
						aLi[i].style.background = 'white';
					} else {
						aLi[i].style.background = 'yellow';
					}

					//给每一行加上onmouseover
					aLi[i].onmouseover = function() {
						this.style.background = 'gray';
					}

					aLi[i].onmouseout = function() {
						//当鼠标移出的时候，根据当前这一行原来的颜色取设置移出以后该变成什么样的颜色
						//怎么知道当前这一行原来是什么颜色
						//知道移出当前这一行的索引值是多少

						//当鼠标移出的时候
						//1.判断当前这一行对应的input是否被选中
						//   如果被选中
						//		背景色是灰色
						//	 如果没有被选中
						//		判断当前行的奇偶
						// if (this.index % 2 == 0) {
						// 	this.style.background = 'white';
						// } else {
						// 	this.style.background = 'yellow';
						// }

						//要判断当前li下面的input是否被选中
						// 获取到input
						var aInput = this.getElementsByTagName("input")[0];

						if (aInput.checked) { //如果被选中
							this.style.background = 'gray';
						} else { //如果没有被选中
							if (this.index % 2 == 0) {
								this.style.background = 'white';
							} else {
								this.style.background = 'yellow';
							}
						}
					}
				};

				//全选按钮添加点击事件
				// 如果被选中 
				//   选中多有的ul中多有的input
				//   所有的li背景变为gray
				// 如果没有被选中
				//   不选中所有的input
				//   变为隔行变色效果

				allCheced.onclick = function (){
					if( this.checked ){
						//选中所有的input
						for(var k = 0; k < oInput.length; k++){
							oInput[k].checked = true;
							aLi[k].style.background = "gray";
						};
					}else{
						//不选中所有的input
						for(var k = 0; k < oInput.length; k++){
							oInput[k].checked = false;
							//判断当前行的奇偶数
							if (k % 2 == 0) {
								aLi[k].style.background = 'white';
							} else {
								aLi[k].style.background = 'yellow';
							};
						};
					}		
				};



				
			};
		</script>
	</head>

	<body>
		<div id="listBox">
			<ul id="list">
				<li>
					<input type="checkbox" />
					<span>私奔</span>
					<span>梁博</span>
				</li>
				<li>
					<input type="checkbox" />
					<span>私奔</span>
					<span>梁博</span>
				</li>
				<li>
					<input type="checkbox" />
					<span>私奔</span>
					<span>梁博</span>
				</li>
				<li>
					<input type="checkbox" />
					<span>私奔</span>
					<span>梁博</span>
				</li>
				<li>
					<input type="checkbox" />
					<span>私奔</span>
					<span>梁博</span>
				</li>
				<li>
					<input type="checkbox" />
					<span>私奔</span>
					<span>梁博</span>
				</li>
			</ul>
			<div>
				<input type="checkbox" id="allCheced">
				<span>全选</span>
			</div>
		</div>
	</body>
</html>